#!/usr/bin/env python

import argparse
import logging

import h5py
import numpy as np

def parse_args():
    parser = argparse.ArgumentParser()

    parser.add_argument('--hdf5', required=True)
    parser.add_argument('--log', default='/dev/stderr')
    parser.add_argument('--sample-size', required=True, type=int)

    return parser.parse_args()


def main():
    args = parse_args()

    h5_file = h5py.File(args.hdf5, 'r')

    group = h5_file['/']
    dset = group['sequences']

    sample_index = np.random.random_integers(0, dset.size, args.sample_size)

    sample = [ dset[x] for x in sample_index ]

    for i in sample:
        print i

if __name__ == '__main__':
    main()
